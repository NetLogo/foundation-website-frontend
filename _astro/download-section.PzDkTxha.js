import{j as e}from"./jsx-runtime.BftctW7E.js";/* empty css                         */import{r as f}from"./index.DJO9vBfz.js";/* empty css                       */import{g as p,N as g}from"./api.CxbP2xQT.js";/* empty css                        *//* empty css                        */const N=()=>{const a=navigator.userAgent;let t=null;return a.indexOf("Win")!==-1?t="Windows":a.indexOf("Mac")!==-1?t="Mac":a.indexOf("Linux")!==-1?t="Linux":a.indexOf("Android")!==-1?t="Android":a.indexOf("like Mac")!==-1&&(t="iOS"),t},j="https://backend.netlogo.org",u=a=>`${j}/assets/${a}`,w=({versions:a,devOs:t})=>{const[n,m]=f.useState({version:"",platform:"",name:"",organization:"",email:"",subscribe:!0,comments:"",ip:"",country:"",time_stamp:""}),x=f.useMemo(()=>{const s=a.map(o=>o.version);return m({...n,version:s[0]}),s},[]),d=f.useMemo(()=>a.find(o=>o.version===n.version)?.download_links?.map(o=>[o.platform,o.subplatform,!!o.primary,o.platform_icon.icon.id])||[],[n.version]);f.useEffect(()=>{const s=N();if(!s)return;const o=d.find(r=>r.indexOf(s)!=-1)||d[0];m({...n,platform:o})},[d]);const c=s=>{const{name:o,value:r,type:i}=s.target,l=i==="checkbox"?s.target.checked:void 0;m({...n,[o]:i==="checkbox"?l:r})},h=s=>{const{name:o,value:r}=s.target;m({...n,[o]:r})},b=async s=>{s.preventDefault();const o=new g;await fetch("https://ipapi.co/json/").then(l=>l.json()).then(l=>{n.ip=l.ip,n.country=l.country_name,n.time_stamp=p()}),o.sendDownloadForm(n);const i=a.find(l=>l.version===n.version)?.download_links.find(l=>l.platform===n.platform)?.download_url;if(i){const l=btoa(i);window.location.href="/thankyou?download_url="+l}else{alert("Download link not found");return}};return e.jsx("div",{className:"download-form",children:e.jsxs("form",{onSubmit:b,className:"font-inter mt-1",children:[e.jsxs("div",{className:"mb-3 row my-4",children:[e.jsx("label",{htmlFor:"name",className:"col-sm-3 col-form-label fs-5 fw-semibold",children:"Name"}),e.jsx("div",{className:"col-sm-9",children:e.jsx("input",{type:"text",className:"form-control",id:"name",name:"name",value:n.name,onChange:c})})]}),e.jsxs("div",{className:"mb-3 row my-4",children:[e.jsx("label",{htmlFor:"organization",className:"col-sm-3 col-form-label fs-5 fw-semibold",children:"Organization"}),e.jsx("div",{className:"col-sm-9",children:e.jsx("input",{type:"text",className:"form-control",id:"organization",name:"organization",value:n.organization,onChange:c})})]}),e.jsxs("div",{className:"mb-3 row my-4",children:[e.jsx("label",{htmlFor:"email",className:"col-sm-3 col-form-label fs-5 fw-semibold",children:"Email"}),e.jsxs("div",{className:"col-sm-9",children:[e.jsx("input",{type:"email",className:"form-control",id:"email",name:"email",value:n.email,onChange:c}),e.jsxs("div",{className:"form-check mt-2",children:[e.jsx("input",{className:"form-check-input",type:"checkbox",id:"subscribe",name:"subscribe",checked:n.subscribe,onChange:c}),e.jsx("label",{className:"form-check-label small",htmlFor:"subscribe",children:"Update me on the newest releases of NetLogo"})]})]})]}),e.jsxs("div",{className:"mb-3 row my-4",children:[e.jsx("label",{htmlFor:"comments",className:"col-sm-3 col-form-label fs-5 fw-semibold",children:"Comments"}),e.jsxs("div",{className:"col-sm-9",children:[e.jsx("textarea",{id:"comments",name:"comments",className:"form-control",rows:2,value:n.comments,onChange:c,"aria-describedby":"commentsHelp"}),e.jsxs("div",{id:"commentsHelp",className:"form-text mt-1",children:["For a response, write",e.jsx("a",{className:"form-ref ms-1",href:"mailto:feedback@ccl.northwestern.edu",children:"feedback@ccl.northwestern.edu"})]})]})]}),e.jsxs("div",{className:"mb-3 row my-4",children:[e.jsx("label",{htmlFor:"version",className:"col-sm-3 col-form-label fs-5 fw-semibold",children:"Version"}),e.jsxs("div",{className:"col-auto d-flex flex-row gap-3",children:[e.jsx("select",{className:"form-select form-select-sl w-auto",id:"version",name:"version",value:n.version,onChange:c,"aria-describedby":"versionInfo",children:x.map(s=>e.jsx("option",{value:s,children:`NetLogo ${s}`},s))}),e.jsxs("div",{id:"versionInfo",className:"form-text mt-2",children:["Previous versions ",e.jsx("a",{target:"_blank",className:"form-ref",href:"https://ccl.northwestern.edu/netlogo/oldversions.shtml",children:"here"})]})]})]}),e.jsx("div",{className:"d-flex flex-row gap-2",children:d?.map(([s,o,r,i])=>t&&s.includes(t)&&r===!0?e.jsxs("button",{type:"submit",className:"mt-4 mb-3 btn btn-primary btn-lg d-flex align-items-center gap-2",name:"platform",value:s,onClick:h,children:[e.jsx("img",{src:u(i||""),className:"button-icon"})," Download ",o]},s):t&&s.includes(t)?e.jsxs("button",{type:"submit",className:"mt-4 mb-3 btn btn-outline-primary btn-lg btn-ht",name:"platform",value:s,onClick:h,children:[e.jsx("img",{src:u(i||""),className:"button-icon"})," Download ",o]},s):null)}),e.jsx("div",{className:"detail-row"})]})})},v={src:"/_astro/NetlogoIcon.zTsoObPv.svg"},z=({downloadData:a,devOs:t})=>e.jsxs("div",{className:"container pt-5 font-inter",children:[e.jsxs("h1",{className:"fw-bold text-start",children:["Download NetLogo for ",t]}),e.jsxs("div",{className:"row align-items-start gx-5",children:[e.jsx("div",{className:"col-lg-6",children:e.jsx(w,{versions:a,devOs:t})}),e.jsx("div",{className:"col-lg-6 justify-content-center mt-4 ps-5",children:e.jsxs("div",{className:"text-start",style:{fontSize:"18px"},children:[e.jsxs("p",{children:["Most computers can run NetLogo (see ",e.jsx("a",{target:"_blank",className:"form-ref",href:"https://ccl.northwestern.edu/netlogo/requirements.html",children:"system requirements"}),"). If you would like to run NetLogo on a Chromebook or in a web browser, use ",e.jsx("a",{className:"form-ref",target:"_blank",href:"http://netlogoweb.org/",children:"NetLogo Web"}),"."]}),e.jsx("p",{children:"Multiple versions of NetLogo can be installed on the same computer."}),e.jsxs("p",{children:["For help using old models with new versions see the ",e.jsx("a",{target:"_blank",className:"form-ref",href:"https://ccl.northwestern.edu/netlogo/transition.html",children:"Transition Guide"}),"."]}),e.jsx("img",{src:v.src,className:"img-fluid mt-5 mb-0 w-50 d-block mx-auto",alt:"Download NetLogo Turtle"})]})})]})]});export{z as DownloadSection};
