---
import Layout from "../layouts/Layout.astro";
import {DownloadSection} from "../components/download/download-section.tsx";
import NetLogoApi from "../utils/api.js";
import DonationSection from "../components/download/donation-section.tsx";

const api = new NetLogoApi();

const pageData = await api.getDownloadPageData()
const randomIndex = Math.floor(Math.random() * pageData.donation_data.length);

---

<Layout show_footer_buttons={false}>
    <DownloadSection downloadData = {pageData["netlogo_versions"]} client:load/>
    <DonationSection donationData = {pageData["donation_data"][randomIndex]} client:load/>
</Layout>